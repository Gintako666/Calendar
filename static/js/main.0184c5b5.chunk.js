(this["webpackJsonpwine-library"]=this["webpackJsonpwine-library"]||[]).push([[0],{36:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(14),o=n.n(c),r=n(26),i=n(13),s=n(2),u=(n(36),n(37),i.c),l=i.b,d=[31,28,31,30,31,30,31,31,30,31,30,31],b=[6,0,1,2,3,4,5],j={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,Novermber:10,December:11},h=Object.keys(j);function m(e,t){for(var n=[],a=new Date(e,t),c=function(e){var t=e.getMonth(),n=e.getFullYear(),a=d[t];return function(e){return!(e%4||!(e%100)&&e%400)}(n)&&t===j.February?a+1:a}(a),o=function(e){var t=e.getDay();return b[t]}(a),r=1,i=0;i<(c+o)/7;i+=1){n[i]=[];for(var s=0;s<7;s+=1)0===i&&s<o||r>c?n[i][s]=void 0:(n[i][s]=new Date(e,t,r),r+=1)}return n}function f(e,t){var n=[];n=m(e,t);var a=function(e,t){return m(e,t-1).slice(-1)[0]}(e,t),c=function(e,t){return m(e,t+1)[0]}(e,t);return a.some((function(e){return void 0===e}))?a.forEach((function(e,t){e&&(n[0][t]=e)})):n.unshift(a),c.some((function(e){return void 0===e}))?c.forEach((function(e,t){e&&(n[n.length-1][t]=e)})):n.push(c),n}var O=function(){for(var e=[],t=1990;t<2030;t+=1)e.push(t);return e},v=n(10),p=n.n(v),_=n(9),x=Object(_.b)({name:"EventTodo",initialState:{isOpen:!1,selectDate:null,activeTodo:null},reducers:{setSelectDate:function(e,t){e.selectDate=t.payload},setSelectTodo:function(e,t){e.activeTodo=t.payload},deleteSelectTodo:function(e){e.activeTodo=null},setOpenForm:function(e,t){e.isOpen=t.payload}}}),g=x.actions,w=x.reducer,y={date:new Date,year:(new Date).getFullYear(),month:(new Date).getMonth()},D=Object(_.b)({name:"calendar",initialState:y,reducers:{setMonthNext:function(e){e.date=new Date(e.year,e.month+1),e.year=new Date(e.year,e.month+1).getFullYear(),e.month=new Date(e.year,e.month+1).getMonth()},setMonthPrev:function(e){e.date=new Date(e.year,e.month-1),e.year=new Date(e.year,e.month-1).getFullYear(),e.month=new Date(e.year,e.month-1).getMonth()},setMonth:function(e,t){e.month=t.payload},setYear:function(e,t){e.year=t.payload}}}),N=D.actions,S=D.reducer,M=n(1),T=function(e){var t=e.todo,n=e.dateDisplay,a=l(),c=u((function(e){return e.calendar})).month;return Object(M.jsxs)("button",{type:"button",className:p()("calendar__item__todo-button",{"calendar__item__todo-button--disabled":n.getMonth()!==c}),onClick:function(){a(g.setOpenForm(!0)),a(g.setSelectTodo(t))},children:[Object(M.jsx)("p",{className:"calendar__item__todo-button__text",children:t.title})," ",Object(M.jsx)("p",{children:t.time})]},t.refreshDate)},C=function(e){var t=e.dateDisplay,n=e.indexDate,c=l(),o=u((function(e){return e.calendar})).month,r=u((function(e){return e.eventTodo})).selectDate,i=u((function(e){return e.todos})).todos,s=Object(a.useMemo)((function(){return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]}),[]),d=Object(a.useCallback)((function(e){c(e?g.setSelectDate(e.toLocaleDateString("en-GB").split("/").reverse().join("-")):g.setSelectDate(e))}),[]),b=Object(a.useCallback)((function(e){return e.toLocaleDateString("en-GB").split("/").reverse().join("-")===r}),[r]),j=Object(a.useCallback)((function(e){return i.filter((function(t){return t.date===(null===e||void 0===e?void 0:e.toLocaleDateString("en-GB").split("/").reverse().join("-"))})).sort((function(e,t){return e.time.localeCompare(t.time)}))}),[]);return Object(M.jsxs)("div",{className:p()("calendar__item",{"calendar__item--disabled":t.getMonth()!==o},{"calendar__item--active":b(t)}),"aria-hidden":!0,onClick:function(){if(t.getMonth()!==o)return c(N.setMonth(t.getMonth())),void c(N.setYear(t.getFullYear()));d(t)},children:[Object(M.jsx)("div",{className:"calendar__item__day",children:t.getDate()}),Object(M.jsx)("div",{className:"calendar__item__day-week",children:s[n%7]}),Object(M.jsx)("div",{className:"calendar__item__todos",children:j(t).map((function(e){return Object(M.jsx)(T,{todo:e,dateDisplay:t},e.id)}))})]})},k=function(){var e=u((function(e){return e.calendar})),t=e.year,n=e.month,c=Object(a.useState)(f(t,n)),o=Object(s.a)(c,2),r=o[0],i=o[1];return Object(a.useEffect)((function(){i(f(t,n))}),[n,t]),Object(M.jsx)("div",{className:"calendar",children:r.map((function(e,t){var n=t*Math.random();return Object(M.jsx)("div",{className:"calendar__week",children:e.map((function(e,t){var n=t*Math.random();return Object(M.jsx)(C,{dateDisplay:e,indexDate:t},n)}))},n)}))})},V=function(){var e=l(),t=u((function(e){return e.calendar})),n=t.month,c=t.year,o=Object(a.useState)(!1),r=Object(s.a)(o,2),i=r[0],d=r[1];return Object(M.jsxs)("header",{className:"header",children:[Object(M.jsx)("button",{type:"button",className:"header__button header__button--add-todo",onClick:function(){e(g.setOpenForm(!0))},children:Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(M.jsx)("path",{className:"header__button--add-todo",d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"})})}),Object(M.jsxs)("nav",{className:"header__nav",children:[Object(M.jsx)("button",{type:"button",onClick:function(){e(N.setMonthPrev())},className:"header__button",children:Object(M.jsx)("svg",{className:"header__button__arrow",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:Object(M.jsx)("path",{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"})})}),Object(M.jsxs)("div",{className:"thisMounsYears",children:[h[n]," ",c]}),Object(M.jsx)("button",{type:"button",onClick:function(){e(N.setMonthNext())},className:"header__button",children:Object(M.jsx)("svg",{className:"header__button__arrow header__button__arrow--right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:Object(M.jsx)("path",{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"})})})]}),Object(M.jsx)("button",{type:"button",className:"header__button header__button--today is-success",onClick:function(){e(N.setMonth((new Date).getMonth())),e(N.setYear((new Date).getFullYear()))},children:"\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456"}),Object(M.jsxs)("div",{className:"header__selects-wrapper",children:[Object(M.jsx)("button",{type:"button",className:"header__button",onClick:function(){d((function(e){return!e}))},children:Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(M.jsx)("path",{d:"M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H336zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H208zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z"})})}),i&&Object(M.jsxs)("div",{className:"header__selects",children:[Object(M.jsx)("div",{className:"select is-primary",children:Object(M.jsx)("select",{defaultValue:n,onChange:function(t){e(N.setMonth(+t.target.value))},children:h.map((function(e,t){return Object(M.jsx)("option",{value:t,children:e},e)}))})}),Object(M.jsx)("div",{className:"select is-primary",children:Object(M.jsx)("select",{defaultValue:c,onChange:function(t){e(N.setYear(+t.target.value))},children:O().map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))})})]})]})]})},F=n(11),H=n(6),z={todos:JSON.parse(localStorage.getItem("todos")||"[]")},E=Object(_.b)({name:"todos",initialState:z,reducers:{setTodos:function(e,t){e.todos=[].concat(Object(H.a)(e.todos),Object(H.a)(t.payload))},removeTodo:function(e,t){e.todos=e.todos.filter((function(e){return e.id!==t.payload.id}))},editTodo:function(e,t){e.todos=e.todos.map((function(e){return e.id===t.payload.id?t.payload:e}))}}}),Y=E.actions,B=E.reducer,J=function(){var e=l(),t=u((function(e){return e.eventTodo})),n=t.activeTodo,c=t.selectDate,o=Object(a.useState)(""),r=Object(s.a)(o,2),i=r[0],d=r[1],b=Object(a.useState)(""),j=Object(s.a)(b,2),h=j[0],m=j[1],f=Object(a.useState)(""),O=Object(s.a)(f,2),v=O[0],_=O[1],x=Object(a.useState)(""),w=Object(s.a)(x,2),y=w[0],D=w[1],N=Object(a.useState)(!0),S=Object(s.a)(N,2),T=S[0],C=S[1],k=Object(a.useCallback)((function(){d(""),m(""),D("")}),[]);Object(a.useEffect)((function(){return function(){e(g.deleteSelectTodo())}}),[]),Object(a.useEffect)((function(){n&&(d(n.title),m(n.description),_(n.date),D(n.time))}),[n]),Object(a.useEffect)((function(){c&&_(c)}),[c]),Object(a.useEffect)((function(){C(!(i&&h&&v&&y))}),[i,h,v,y]);var V=Object(a.useCallback)((function(){var t="".concat((new Date).toLocaleDateString("en-GB")," ").concat((new Date).toTimeString().slice(0,8)),a={title:i,description:h,date:v,time:y,refreshDate:t};n?(e(Y.editTodo(Object(F.a)({id:n.id},a))),e(g.deleteSelectTodo())):e(Y.setTodos([Object(F.a)({id:1e5*Math.random()},a)])),e(g.setOpenForm(!1)),k()}),[i,h,v,y,n]);return Object(M.jsxs)("div",{className:"new-idea-item",children:[Object(M.jsx)("button",{type:"button",className:"new-idea-item__close",onClick:function(){return e(g.setOpenForm(!1))},children:"\u2716"}),Object(M.jsx)("h1",{className:"new-idea-item__title",children:n?"Edit idea item":"Add new idea item"}),n?"Created at: ".concat(n.refreshDate):null,Object(M.jsx)("input",{placeholder:"Title goes here",type:"text",className:"new-idea-item__input new-idea-item__input--title",value:i,onChange:function(e){return d(e.target.value)}}),Object(M.jsx)("textarea",{placeholder:"Descriptions",className:"new-idea-item__input new-idea-item__input--text",value:h,onChange:function(e){return m(e.target.value)}}),Object(M.jsxs)("div",{className:"new-idea-item__set-time",children:[Object(M.jsx)("input",{type:"date",className:"new-idea-item__input new-idea-item__input--date",value:v,onChange:function(e){return _(e.target.value)}}),Object(M.jsx)("input",{type:"time",className:"new-idea-item__input new-idea-item__input--time",value:y,onChange:function(e){return D(e.target.value)}})]}),Object(M.jsxs)("div",{className:"new-idea-item__buttons",children:[Object(M.jsx)("button",{className:p()("button","is-primary","is-large",{"is-disabled":T}),disabled:T,type:"button",onClick:V,children:"Save"}),n&&Object(M.jsx)("button",{className:"button is-primary is-large is-danger",type:"button",onClick:function(){n&&(e(Y.removeTodo(n)),e(g.deleteSelectTodo()),e(g.setOpenForm(!1))),k()},children:"Delete"})]})]})},L=function(){var e=u((function(e){return e.todos})).todos,t=u((function(e){return e.eventTodo})).isOpen,n=function(e,t){var n=Object(a.useState)((function(){try{return JSON.parse(localStorage.getItem(e)||t)}catch(n){return t}})),c=Object(s.a)(n,2),o=c[0],r=c[1];return[o,function(t){r(t),localStorage.setItem(e,JSON.stringify(t))}]}("todos",[]),c=Object(s.a)(n,2)[1];return Object(a.useEffect)((function(){console.log("set"),c(e)}),[e]),Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)(V,{}),Object(M.jsx)(k,{}),t&&Object(M.jsx)(J,{})]})},A=n(25),G=Object(_.a)({reducer:{calendar:S,todos:B,eventTodo:w}});Object(A.composeWithDevTools)();var I=G;o.a.render(Object(M.jsx)(i.a,{store:I,children:Object(M.jsx)(r.a,{children:Object(M.jsx)(L,{})})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.0184c5b5.chunk.js.map